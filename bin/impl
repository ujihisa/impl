#!/usr/bin/env ruby
require 'impl'
case ARGV.shift
when '-h', '--help', '-v', '--version'
  puts Impl.help
when '--suite'
  Dir.chdir(File.expand_path(ARGV.shift)) do
    additional = `#{__FILE__}`
    File.open('tags', 'a') {|io| io.puts additional }
  end
else
  ctags = File.read('tags')
  dir = File.expand_path '.'
  puts Impl.generate(ctags, dir)
end
# vim: set ft=ruby :
